<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
		<style type="text/css">
			*{
				margin: 0;
				padding: 0;
			}
			div{
				width: 850px;
				margin: 0 auto;
			}
			ul{
				width: 200px;		
				position: relative;
				list-style: none;
			}
			li{
				position: absolute;
				width: 200px;
				background-color: lightgray;
				font-size: 40px;
			}
		</style>
	</head>
	<body>
		<div>
			<ul></ul>
			<ul></ul>
			<ul></ul>
			<ul></ul>
		</div>
		<script type="text/javascript">
			var allUl = document.getElementsByTagName("ul");
			function random(min,max){
				return parseInt(Math.random() * (max - min + 1) + min);
			}
			
			var arr = []
			for(var i = 0;i < allUl.length;i++){
				arr[i] = 10;
			}	
			
			function createUl(index){
				var li = document.createElement("li");
				li.innerHTML = index;
				li.style.height = random(100,300) + "px";
				var minH = arr[0];
				var count = 0;
				for(var i = 0;i < arr.length;i++){
					if(minH > arr[i]){
						minH = arr[i];
						count = i;
					}
				}
				li.style.left = (200 + 10) * count + "px";
				li.style.top = minH	+ "px";				
				allUl[count].appendChild(li);
				arr[count] = arr[count] + li.offsetHeight + 10;
			}
			for(var i = 0;i < 30;i++){
				createUl(i);
			}
			
			
		</script>
	</body>
</html>
