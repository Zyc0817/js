<!DOCTYPE html>
<html>

	<head>
		<meta charset="UTF-8">
		<title></title>
		<style type="text/css">
			*{
				margin: 0;
				padding: 0;
			}
			a{
				text-decoration: none;
				color: orange;
			}
			.wrap{
				width: 600px;
				height: 200px;
				border: 1px solid gainsboro;
				border-radius: 5px;
				margin: 5px auto;
			}
			.top{
				height: 40px;
				width: 100%;
				overflow: hidden;
			}
			.top-left{
				width: 80px;
				height: 100%;
				line-height: 40px;
				font-size: 20px;
				color: orange;
				float: left;
				margin-left: 20px;
			}
			.top-right{
				float: right;
				width: 60%;
				height: 100%;
				line-height: 40px;
				padding-right: 20px;
				text-align: right;
			}
			.middle{
				height: 100px;
				width: 100%;
			}
			.middle textarea{
				width: 570px;
				height: 90px;
				margin-left: 15px;
				border: 1px solid gainsboro;
				resize: none;
			}
			.bottom{
				height: 60px;
				width: 100%;
				overflow: hidden;
			}
			.bottom-left{
				height: 100%;
				width: 350px;
				float: left;
			}
			.bottom-left div{
				width: 70px;
				height: 100%;
				text-align: center;
				line-height: 50px;
				float: left;
			}
			.bottom-left div:hover{
				color: orange;
			}
			.bottom-right{
				float: right;
				width: 80px;
				height: 40px;
				background-color: orange;
				color: white;
				text-align: center;
				line-height: 40px;
				font-size: 20px;
				border-radius: 5px;
				margin-right: 13px;
			}
			.message{
				width: 600px;
				height: 1000000px;
				border: 1px solid gainsboro;
				border-radius: 5px;
				margin: 0 auto;
				/*position: relative;*/
			
			}
			/*为JS准备的样式*/
			.big{
				width: 570px;
				height: 100px;
				border: 1px solid gray;
				margin-left: 9px;
				margin-top: 10px;
				position: relative;	
				/*top: 0px;*/
			}
			.name{
				width: 100%;
				height: 30px;
				line-height: 30px;
				padding-left: 10px;
				/*加粗字体*/
				font-weight: bold;
			}
			.mes{
				width: 100%;
				height: 30px;
				line-height: 30px;
				padding-left: 10px;
			}
			.date{
				width: 200px;
				height: 30px;
				line-height: 30px;
				padding-left: 10px;
				color: gray;
			}
			.close{
				width: 50px;
				height: 50px;
				position: absolute;
				right: -20px;
				top: 10px;
			}
			.close:hover{
				color: orange;
			}
		</style>
	</head>

	<body>
		<div class="wrap">
			<div class="top">
				<div class="top-left">
					LOGO
				</div>
				<div class="top-right">
					<a href="###">点击领取红包</a>
				</div>
			</div>
			<div class="middle">
				<textarea name="" rows="" cols=""></textarea>
			</div>
			<div class="bottom">
				<div class="bottom-left">
					<div>表情</div>
					<div>图片</div>
					<div>视频</div>
					<div>话题</div>
					<div>文章</div>
				</div>
				<div class="bottom-right" onclick="addRow()">
					发布
				</div>
			</div>
		</div>
		<div class="message">
			<!--<div class="big">
				<div class="name">lsp</div>
				<div class="date">riqi</div>
				<div class="mes">spspspspsp</div>
				<div class="close">×</div>
			</div>-->
		</div>
		<script type="text/javascript">
			var oA = document.getElementsByTagName("a")[0];
			var txt = document.getElementsByTagName("textarea")[0];
			var oBtn = document.getElementsByClassName("bottom-right")[0];
			var message = document.getElementsByClassName("message")[0];
			var textLimit = 140;
			function creatDiv(txt,className){
				var div = document.createElement("div");
				div.innerHTML = txt;
				div.setAttribute("class",className);
				return div;
			}
			function getTime(){
				var date1 = new Date();
				return (date1.getMonth()+1) + "月" + date1.getDate() + "日" + date1.getHours() +":" + date1.getMinutes() + " " + "发布"
			}
			function addRow(){
				var bigDiv = creatDiv("","big");
				message.appendChild(bigDiv);
				var nameDiv = creatDiv("lsp","name");
				bigDiv.appendChild(nameDiv);
				var mesDiv = creatDiv(txt.value,"mes");
				bigDiv.appendChild(mesDiv);
				var dateDiv = creatDiv(getTime(),"date");
				bigDiv.appendChild(dateDiv);
				var closeDiv = creatDiv("×","close");
				bigDiv.appendChild(closeDiv);
				message.insertBefore(bigDiv,message.firstElementChild);
				txt.value = "";
				textLimit = 140;
				closeDiv.onclick = function(){
					message.removeChild(bigDiv);
				}
			}
			txt.onfocus = function(){
//				textLimit = 140 - txt.value.length;
				oA.innerHTML = "还可以输入" + textLimit + "字";
				oA.style.color = "gray";
			}
			txt.onblur = function(){
				oA.innerHTML = "点击领取红包";
				oA.style.color = "";
			}
			txt.onkeyup = function(){
				textLimit = 140 - txt.value.length;
				oA.innerHTML = "还可以输入" + textLimit + "字";
			}
		</script>
	</body>

</html>